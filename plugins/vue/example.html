<html>
<head></head>

<body>
  <h1>Vue IMask Plugin Demo</h1>
  <main id="app">
    <label>
      Directive
      <input type="text" v-imask="dateMask" @accept="onAcceptDate" @complete="onCompleteDate" :value="value">
    </label>
    <br>
    <label>
      Component
      <imask-input
        v-model="value"
        type="text"
        :mask="numberMask"
        :unmask="numberUnmask"
        @accept="onAcceptNumber"
        @complete="onCompleteNumber">
    </label>
  </main>

  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/vue-types"></script>
  <script src="https://unpkg.com/imask"></script>
  <script src="dist/vue-imask.js"></script>
  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      directives: {
        imask: VueIMask.IMaskDirective
      },
      components: {
        'imask-input': VueIMask.IMaskComponent
      },
      data: {
        dateMask: {
          mask: Date
        },
        numberMask: '1000',
        numberUnmask: true,
        value: '987'
      },
      methods: {
        onAcceptDate: function (e) {
          console.log('accept date', e.detail.value);
        },
        onCompleteDate: function (e) {
          console.log('complete date!', e.detail.unmaskedValue);
        },

        onAcceptNumber: function (value) {
          console.log('accept num', value);
        },
        onCompleteNumber: function (value) {
          console.log('complete num!', value);
        }
      }
    });
    setTimeout(function () {
      app.numberUnmask = false;
      app.value = '123';
    }, 1000);
  </script>
</body>
</html>
