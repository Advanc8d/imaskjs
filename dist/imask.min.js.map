{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///imask.min.js","webpack:///webpack/bootstrap c9ab0c916abd7b3d939d?520a","webpack:///./src/masks/base.js?da43","webpack:///./src/utils.js?2ff8","webpack:///./src/imask.js?a8ac","webpack:///./src/masks/regexp.js?9110","webpack:///./src/masks/func.js?8ff8","webpack:///./src/masks/pattern.js?a683","webpack:///./src/masks/pipe.js?033e"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","undefined","apply","_utils","_classCallCheck","instance","Constructor","TypeError","value","_extends","assign","target","arguments","length","source","key","_createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","BaseMask","el","opts","mask","_listeners","_refreshingCount","_rawValue","_unmaskedValue","saveSelection","bind","_onInput","_onDrop","on","ev","handler","push","off","hIndex","indexOf","splice","bindEvents","addEventListener","unbindEvents","removeEventListener","fireEvent","forEach","processInput","inputValue","details","cursorPos","oldSelection","_selection","oldValue","rawValue","oldUnmaskedValue","unmaskedValue","extendDetailsAdjustments","res","conform","resolve","updateElement","console","warn","start","selectionStart","end","destroy","_calcUnmasked","isChanged","updateCursor","_fireChangeEvents","_delayUpdateCursor","_this","_abortUpdateCursor","_changingCursorPos","_cursorChanging","setTimeout","clearTimeout","preventDefault","stopPropagation","str","set","selectionEnd","pos","document","activeElement","setSelectionRange","default","isString","String","fallback","startChangePos","Math","min","insertedCount","removedCount","max","head","substring","tail","inserted","substr","removed","removeDirection","DIRECTION","RIGHT","LEFT","indexInDirection","direction","NONE","_base","_regexp","_func","_pattern","_pipe","_interopRequireDefault","obj","IMask","MaskFactory","_base2","_regexp2","_func2","_pattern2","_pipe2","RegExp","Array","Function","FuncMask","RegExpMask","PatternMask","window","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_BaseMask","test","_hollows","placeholder","definitions","DEFINITIONS","_alignCursor","_alignCursorFriendly","_initialized","_installDefinitions","_definitions","_charDefs","_alignStops","pattern","unmaskingBlock","optionalBlock","ch","type","DEF_TYPES","INPUT","FIXED","unmasking","optional","STOP_CHAR","ESCAPE_CHAR","char","_buildResolvers","_resolvers","defKey","_appendTail","skipUnresolvedInput","placeholderBuffer","hollows","slice","overflow","ci","di","_mapPosToDefIndex","_isHollow","def","resolver","chres","isResolved","_placeholder","_appendTailChunks","chunks","_chunks$ci","input","_appendTail2","chunk2","stop2","_appendPlaceholderEnd","_extractInput","fromPos","toPos","toDefIndex","_isHiddenHollow","_isInput","_extractInputChunks","stops","si","s2","defIndex","_hollowsBefore","_this2","filter","h","_mapDefIndexToPos","hi","_generateInsertSteps","insertSteps","_appendTail3","_this3","tailPos","tailDefIndex","tailAlignStopsPos","concat","map","tailInputChunks","lastHollowIndex","_nearestInputPos","istep","step","tres","_insertSteps$istep","_appendTailChunks2","isComplete","_appendFixedEnd","show","unmasked","defs","index","firstInputIndex","firstFilledInputIndex","firstVisibleHollowIndex","nextdi","initialDefIndex","_appendTail4","ph","DEFAULT_PLACEHOLDER","_this4","join","_mask","0","*","PipeMask","multipass","_compiledMasks","stepRes","tempRes","reduce"],"mappings":"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","file":"imask.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"../utils\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.utils);\n    global.base = mod.exports;\n  }\n})(this, function (exports, _utils) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var BaseMask = function () {\n    function BaseMask(el, opts) {\n      _classCallCheck(this, BaseMask);\n\n      this.el = el;\n      this.mask = opts.mask;\n\n      this._listeners = {};\n      this._refreshingCount = 0;\n      this._rawValue = \"\";\n      this._unmaskedValue = \"\";\n\n      this.saveSelection = this.saveSelection.bind(this);\n      this._onInput = this._onInput.bind(this);\n      this._onDrop = this._onDrop.bind(this);\n    }\n\n    BaseMask.prototype.on = function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n      this._listeners[ev].push(handler);\n      return this;\n    };\n\n    BaseMask.prototype.off = function off(ev, handler) {\n      if (!this._listeners[ev]) return;\n      if (!handler) {\n        delete this._listeners[ev];\n        return;\n      }\n      var hIndex = this._listeners[ev].indexOf(handler);\n      if (hIndex >= 0) this._listeners.splice(hIndex, 1);\n      return this;\n    };\n\n    BaseMask.prototype.bindEvents = function bindEvents() {\n      this.el.addEventListener('keydown', this.saveSelection);\n      this.el.addEventListener('input', this._onInput);\n      this.el.addEventListener('drop', this._onDrop);\n    };\n\n    BaseMask.prototype.unbindEvents = function unbindEvents() {\n      this.el.removeEventListener('keydown', this.saveSelection);\n      this.el.removeEventListener('input', this._onInput);\n      this.el.removeEventListener('drop', this._onDrop);\n    };\n\n    BaseMask.prototype.fireEvent = function fireEvent(ev) {\n      var listeners = this._listeners[ev] || [];\n      listeners.forEach(function (l) {\n        return l();\n      });\n    };\n\n    BaseMask.prototype.processInput = function processInput(inputValue, details) {\n      details = _extends({\n        cursorPos: this.cursorPos,\n        oldSelection: this._selection,\n        oldValue: this.rawValue,\n        oldUnmaskedValue: this.unmaskedValue\n      }, details);\n\n      details = (0, _utils.extendDetailsAdjustments)(inputValue, details);\n\n      var res = (0, _utils.conform)(this.resolve(inputValue, details), inputValue, this.rawValue);\n\n      this.updateElement(res, details.cursorPos);\n      return res;\n    };\n\n    BaseMask.prototype.saveSelection = function saveSelection(ev) {\n      if (this.rawValue !== this.el.value) {\n        console.warn(\"Uncontrolled input change, refresh mask manually!\");\n      }\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    };\n\n    BaseMask.prototype.destroy = function destroy() {\n      this.unbindEvents();\n      this._listeners.length = 0;\n    };\n\n    BaseMask.prototype.updateElement = function updateElement(value, cursorPos) {\n      var unmaskedValue = this._calcUnmasked(value);\n      var isChanged = this.unmaskedValue !== unmaskedValue || this.rawValue !== value;\n\n      this._unmaskedValue = unmaskedValue;\n      this._rawValue = value;\n\n      if (this.el.value !== value) this.el.value = value;\n      this.updateCursor(cursorPos);\n\n      if (isChanged) this._fireChangeEvents();\n    };\n\n    BaseMask.prototype._fireChangeEvents = function _fireChangeEvents() {\n      this.fireEvent(\"accept\");\n    };\n\n    BaseMask.prototype.updateCursor = function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos;\n\n      // also queue change cursor for mobile browsers\n      this._delayUpdateCursor(cursorPos);\n    };\n\n    BaseMask.prototype._delayUpdateCursor = function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        _this._abortUpdateCursor();\n        _this.cursorPos = _this._changingCursorPos;\n      }, 10);\n    };\n\n    BaseMask.prototype._abortUpdateCursor = function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    };\n\n    BaseMask.prototype._onInput = function _onInput(ev) {\n      this._abortUpdateCursor();\n      this.processInput(this.el.value);\n    };\n\n    BaseMask.prototype._onDrop = function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    };\n\n    BaseMask.prototype.resolve = function resolve(str, details) {\n      return str;\n    };\n\n    BaseMask.prototype._calcUnmasked = function _calcUnmasked(value) {\n      return value;\n    };\n\n    _createClass(BaseMask, [{\n      key: \"rawValue\",\n      get: function get() {\n        return this._rawValue;\n      },\n      set: function set(str) {\n        this.processInput(str, {\n          cursorPos: str.length,\n          oldValue: this.rawValue,\n          oldSelection: {\n            start: 0,\n            end: this.rawValue.length\n          }\n        });\n      }\n    }, {\n      key: \"unmaskedValue\",\n      get: function get() {\n        return this._unmaskedValue;\n      },\n      set: function set(value) {\n        this.rawValue = value;\n      }\n    }, {\n      key: \"selectionStart\",\n      get: function get() {\n        return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n      }\n    }, {\n      key: \"cursorPos\",\n      get: function get() {\n        return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n      },\n      set: function set(pos) {\n        if (this.el !== document.activeElement) return;\n\n        this.el.setSelectionRange(pos, pos);\n        this.saveSelection();\n      }\n    }]);\n\n    return BaseMask;\n  }();\n\n  exports.default = BaseMask;\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.utils = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isString = isString;\n  exports.conform = conform;\n  exports.extendDetailsAdjustments = extendDetailsAdjustments;\n  exports.indexInDirection = indexInDirection;\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function isString(str) {\n    return typeof str === 'string' || str instanceof String;\n  }\n\n  function conform(res, str) {\n    var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n    return isString(res) ? res : res ? str : fallback;\n  }\n\n  var DIRECTION = exports.DIRECTION = {\n    NONE: 0,\n    LEFT: -1,\n    RIGHT: 1\n  };\n\n  function extendDetailsAdjustments(str, details) {\n    var cursorPos = details.cursorPos;\n    var oldSelection = details.oldSelection;\n    var oldValue = details.oldValue;\n\n    var startChangePos = Math.min(cursorPos, oldSelection.start);\n    var insertedCount = cursorPos - startChangePos;\n    // Math.max for opposite operation\n    var removedCount = Math.max(oldSelection.end - startChangePos ||\n    // for Delete\n    oldValue.length - str.length, 0);\n\n    return _extends({}, details, {\n      startChangePos: startChangePos,\n      head: str.substring(0, startChangePos),\n      tail: str.substring(startChangePos + insertedCount),\n      inserted: str.substr(startChangePos, insertedCount),\n      removed: oldValue.substr(startChangePos, removedCount),\n      removeDirection: removedCount && (oldSelection.end === cursorPos || insertedCount ? DIRECTION.RIGHT : DIRECTION.LEFT)\n    });\n  }\n\n  function indexInDirection(pos, direction) {\n    if (direction === DIRECTION.LEFT) --pos;\n    return pos;\n  }\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(1), __webpack_require__(0), __webpack_require__(3), __webpack_require__(4), __webpack_require__(5), __webpack_require__(6)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./utils'), require('./masks/base'), require('./masks/regexp'), require('./masks/func'), require('./masks/pattern'), require('./masks/pipe'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.utils, global.base, global.regexp, global.func, global.pattern, global.pipe);\n    global.imask = mod.exports;\n  }\n})(this, function (exports, _utils, _base, _regexp, _func, _pattern, _pipe) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = IMask;\n\n  var _base2 = _interopRequireDefault(_base);\n\n  var _regexp2 = _interopRequireDefault(_regexp);\n\n  var _func2 = _interopRequireDefault(_func);\n\n  var _pattern2 = _interopRequireDefault(_pattern);\n\n  var _pipe2 = _interopRequireDefault(_pipe);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function IMask(el) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var mask = IMask.MaskFactory(el, opts);\n    mask.bindEvents();\n    // refresh\n    mask.rawValue = el.value;\n    return mask;\n  }\n\n  IMask.MaskFactory = function (el, opts) {\n    var mask = opts.mask;\n    if (mask instanceof _base2.default) return mask;\n    if (mask instanceof RegExp) return new _regexp2.default(el, opts);\n    if (mask instanceof Array) return new _pipe2.default(el, opts);\n    if ((0, _utils.isString)(mask)) return new _pattern2.default(el, opts);\n    if (mask.prototype instanceof _base2.default) return new mask(el, opts);\n    if (mask instanceof Function) return new _func2.default(el, opts);\n    return new _base2.default(el, opts);\n  };\n  IMask.BaseMask = _base2.default;\n  IMask.FuncMask = _func2.default;\n  IMask.RegExpMask = _regexp2.default;\n  IMask.PatternMask = _pattern2.default;\n  window.IMask = IMask;\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./base'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.base);\n    global.regexp = mod.exports;\n  }\n})(this, function (exports, _base) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _base2 = _interopRequireDefault(_base);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var RegExpMask = function (_BaseMask) {\n    _inherits(RegExpMask, _BaseMask);\n\n    function RegExpMask() {\n      _classCallCheck(this, RegExpMask);\n\n      return _possibleConstructorReturn(this, _BaseMask.apply(this, arguments));\n    }\n\n    RegExpMask.prototype.resolve = function resolve(str) {\n      return this.mask.test(str);\n    };\n\n    return RegExpMask;\n  }(_base2.default);\n\n  exports.default = RegExpMask;\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./base'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.base);\n    global.func = mod.exports;\n  }\n})(this, function (exports, _base) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _base2 = _interopRequireDefault(_base);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var FuncMask = function (_BaseMask) {\n    _inherits(FuncMask, _BaseMask);\n\n    function FuncMask() {\n      _classCallCheck(this, FuncMask);\n\n      return _possibleConstructorReturn(this, _BaseMask.apply(this, arguments));\n    }\n\n    FuncMask.prototype.resolve = function resolve() {\n      return this.mask.apply(this, arguments);\n    };\n\n    return FuncMask;\n  }(_base2.default);\n\n  exports.default = FuncMask;\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(1), __webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('../utils'), require('./base'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.utils, global.base);\n    global.pattern = mod.exports;\n  }\n})(this, function (exports, _utils, _base) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _base2 = _interopRequireDefault(_base);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var PatternMask = function (_BaseMask) {\n    _inherits(PatternMask, _BaseMask);\n\n    function PatternMask(el, opts) {\n      _classCallCheck(this, PatternMask);\n\n      var _this = _possibleConstructorReturn(this, _BaseMask.call(this, el, opts));\n\n      _this._hollows = [];\n      _this.placeholder = opts.placeholder;\n      _this.definitions = _extends({}, PatternMask.DEFINITIONS, opts.definitions);\n\n      _this._alignCursor = _this._alignCursor.bind(_this);\n      _this._alignCursorFriendly = _this._alignCursorFriendly.bind(_this);\n\n      _this._initialized = true;\n      return _this;\n    }\n\n    PatternMask.prototype._alignCursorFriendly = function _alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return;\n      this._alignCursor();\n    };\n\n    PatternMask.prototype.bindEvents = function bindEvents() {\n      _BaseMask.prototype.bindEvents.call(this);\n      this.el.addEventListener('click', this._alignCursorFriendly);\n    };\n\n    PatternMask.prototype.unbindEvents = function unbindEvents() {\n      _BaseMask.prototype.unbindEvents.call(this);\n      this.el.removeEventListener('click', this._alignCursorFriendly);\n    };\n\n    PatternMask.prototype._installDefinitions = function _installDefinitions(definitions) {\n      this._definitions = definitions;\n      this._charDefs = [];\n      this._alignStops = [];\n\n      var pattern = this.mask;\n      if (!pattern || !definitions) return;\n\n      var unmaskingBlock = false;\n      var optionalBlock = false;\n      for (var i = 0; i < pattern.length; ++i) {\n        var ch = pattern[i];\n        var type = !unmaskingBlock && ch in definitions ? PatternMask.DEF_TYPES.INPUT : PatternMask.DEF_TYPES.FIXED;\n        var unmasking = type === PatternMask.DEF_TYPES.INPUT || unmaskingBlock;\n        var optional = type === PatternMask.DEF_TYPES.INPUT && optionalBlock;\n\n        if (ch === PatternMask.STOP_CHAR) {\n          this._alignStops.push(this._charDefs.length);\n          continue;\n        }\n\n        if (ch === '{' || ch === '}') {\n          unmaskingBlock = !unmaskingBlock;\n          continue;\n        }\n\n        if (ch === '[' || ch === ']') {\n          optionalBlock = !optionalBlock;\n          continue;\n        }\n\n        if (ch === PatternMask.ESCAPE_CHAR) {\n          ++i;\n          ch = pattern[i];\n          // TODO validation\n          if (!ch) break;\n          type = PatternMask.DEF_TYPES.FIXED;\n        }\n\n        this._charDefs.push({\n          char: ch,\n          type: type,\n          optional: optional,\n          unmasking: unmasking\n        });\n      }\n\n      this._buildResolvers();\n    };\n\n    PatternMask.prototype._buildResolvers = function _buildResolvers() {\n      this._resolvers = {};\n      for (var defKey in this.definitions) {\n        this._resolvers[defKey] = IMask.MaskFactory(this.el, {\n          mask: this.definitions[defKey]\n        });\n      }\n    };\n\n    PatternMask.prototype._appendTail = function _appendTail(str, tail) {\n      var skipUnresolvedInput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      var placeholderBuffer = '';\n      var hollows = this._hollows.slice();\n      var overflow = false;\n\n      for (var ci = 0, di = this._mapPosToDefIndex(str.length); ci < tail.length;) {\n        if (this._isHollow(di)) {\n          // TODO check other cases\n          ++di;\n          continue;\n        }\n\n        var ch = tail[ci];\n        var def = this.def(di, str + placeholderBuffer);\n\n        // failed\n        if (!def) {\n          overflow = true;\n          break;\n        }\n\n        if (def.type === PatternMask.DEF_TYPES.INPUT) {\n          var resolver = this._resolvers[def.char];\n          var chres = resolver.resolve(ch, di, str + placeholderBuffer) || '';\n          var isResolved = !!chres;\n\n          // if ok - next di\n          if (chres) {\n            chres = (0, _utils.conform)(chres, ch);\n          } else {\n            if (!def.optional && skipUnresolvedInput) chres = this._placeholder.char;\n            // TODO seems check is useless\n            if (hollows.indexOf(di) < 0) hollows.push(di);\n          }\n\n          if (chres) {\n            str += placeholderBuffer + (0, _utils.conform)(chres, ch);\n            placeholderBuffer = '';\n          }\n          if (chres || def.optional || !skipUnresolvedInput) ++di;\n          if (isResolved || !def.optional && !skipUnresolvedInput) ++ci;\n        } else {\n          placeholderBuffer += def.char;\n\n          if (ch === def.char && (def.unmasking || !skipUnresolvedInput)) ++ci;\n          ++di;\n        }\n      }\n\n      return [str, hollows, overflow];\n    };\n\n    PatternMask.prototype._appendTailChunks = function _appendTailChunks(str, chunks, skipUnresolvedInput) {\n      var overflow = false;\n      for (var ci = 0; ci < chunks.length; ++ci) {\n        var _chunks$ci = chunks[ci],\n            input = _chunks$ci[1];\n\n        var _appendTail2 = this._appendTail(str, input, skipUnresolvedInput);\n\n        str = _appendTail2[0];\n        this._hollows = _appendTail2[1];\n        overflow = _appendTail2[2];\n\n        if (overflow) break;\n\n        // not last - append placeholder between stops\n        var chunk2 = chunks[ci + 1];\n        var stop2 = chunk2 && chunk2[0];\n        if (stop2) str = this._appendPlaceholderEnd(str, stop2);\n      }\n      return [str, this._hollows, overflow];\n    };\n\n    PatternMask.prototype._extractInput = function _extractInput(str) {\n      var fromPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var toPos = arguments[2];\n\n      var input = '';\n\n      var toDefIndex = toPos && this._mapPosToDefIndex(toPos);\n      for (var ci = 0, di = this._mapPosToDefIndex(fromPos); ci < str.length && (!toDefIndex || di < toDefIndex); ++di) {\n        var ch = str[ci];\n        var def = this.def(di, str);\n\n        if (!def) break;\n        if (this._isHiddenHollow(di)) continue;\n\n        if (this._isInput(di) && !this._isHollow(di)) input += ch;\n        ++ci;\n      }\n      return input;\n    };\n\n    PatternMask.prototype._extractInputChunks = function _extractInputChunks(str, stops) {\n      var chunks = [];\n      for (var si = 0; si < stops.length && str; ++si) {\n        var s = stops[si];\n        var s2 = stops[si + 1];\n        chunks.push([s, this._extractInput(str, s, s2)]);\n        if (s2) str = str.slice(s2 - s);\n      }\n      return chunks;\n    };\n\n    PatternMask.prototype._isHollow = function _isHollow(defIndex) {\n      return this._hollows.indexOf(defIndex) >= 0;\n    };\n\n    PatternMask.prototype._isHiddenHollow = function _isHiddenHollow(defIndex) {\n      return this._isHollow(defIndex) && this.def(defIndex) && this.def(defIndex).optional;\n    };\n\n    PatternMask.prototype._isInput = function _isInput(defIndex) {\n      return this.def(defIndex) && this.def(defIndex).type === PatternMask.DEF_TYPES.INPUT;\n    };\n\n    PatternMask.prototype._hollowsBefore = function _hollowsBefore(defIndex) {\n      var _this2 = this;\n\n      return this._hollows.filter(function (h) {\n        return h < defIndex && _this2._isHiddenHollow(h);\n      });\n    };\n\n    PatternMask.prototype._mapDefIndexToPos = function _mapDefIndexToPos(defIndex) {\n      return defIndex - this._hollowsBefore(defIndex).length;\n    };\n\n    PatternMask.prototype._mapPosToDefIndex = function _mapPosToDefIndex(pos) {\n      var defIndex = pos;\n      for (var hi = 0; hi < this._hollows.length; ++hi) {\n        var h = this._hollows[hi];\n        if (h >= defIndex) break;\n        if (this._isHiddenHollow(h)) ++defIndex;\n      }\n      return defIndex;\n    };\n\n    PatternMask.prototype._generateInsertSteps = function _generateInsertSteps(head, inserted) {\n      var overflow = false;\n\n      // save hollow during generation\n      var hollows = this._hollows;\n\n      var insertSteps = [[head, hollows.slice()]];\n\n      for (var ci = 0; ci < inserted.length && !overflow; ++ci) {\n        var ch = inserted[ci];\n\n        var _appendTail3 = this._appendTail(head, ch, false),\n            res = _appendTail3[0],\n            hollows = _appendTail3[1],\n            overflow = _appendTail3[2];\n\n        this._hollows = hollows;\n        if (!overflow && res !== head) {\n          insertSteps.push([res, hollows]);\n          head = res;\n        }\n      }\n\n      // pop hollows back\n      this._hollows = hollows;\n\n      return insertSteps;\n    };\n\n    PatternMask.prototype.resolve = function resolve(str, details) {\n      var _this3 = this;\n\n      var cursorPos = details.cursorPos;\n      var startChangePos = details.startChangePos;\n      var inserted = details.inserted;\n      var removedCount = details.removed.length;\n      var tailPos = startChangePos + removedCount;\n      var tailDefIndex = this._mapPosToDefIndex(tailPos);\n      var tailAlignStopsPos = [tailPos].concat(this._alignStops.filter(function (s) {\n        return s >= tailDefIndex;\n      }).map(function (s) {\n        return _this3._mapDefIndexToPos(s);\n      }));\n      var tailInputChunks = this._extractInputChunks(details.tail, tailAlignStopsPos);\n\n      // remove hollows after cursor\n      var lastHollowIndex = this._mapPosToDefIndex(startChangePos);\n      this._hollows = this._hollows.filter(function (h) {\n        return h < lastHollowIndex;\n      });\n\n      var res = details.head;\n      // if remove at left - adjust start change pos\n      if (details.removeDirection === _utils.DIRECTION.LEFT) res = res.slice(0, this._nearestInputPos(startChangePos));\n\n      // insert available\n      var insertSteps = this._generateInsertSteps(res, inserted);\n      for (var istep = insertSteps.length - 1; istep >= 0; --istep) {\n        var step, tres, overflow;\n        var _insertSteps$istep = insertSteps[istep];\n        step = _insertSteps$istep[0];\n        this._hollows = _insertSteps$istep[1];\n\n        var _appendTailChunks2 = this._appendTailChunks(step, tailInputChunks);\n\n        tres = _appendTailChunks2[0];\n        this._hollows = _appendTailChunks2[1];\n        overflow = _appendTailChunks2[2];\n\n        if (!overflow) {\n          res = tres;\n          cursorPos = step.length;\n          break;\n        }\n      }\n\n      res = this._appendPlaceholderEnd(res);\n      details.cursorPos = this._nearestInputPos(cursorPos, details.removeDirection);\n\n      return res;\n    };\n\n    PatternMask.prototype._fireChangeEvents = function _fireChangeEvents() {\n      // fire 'complete' after 'accept' event\n      _BaseMask.prototype._fireChangeEvents.call(this);\n      if (this.isComplete) this.fireEvent(\"complete\");\n    };\n\n    PatternMask.prototype._appendFixedEnd = function _appendFixedEnd(res) {\n      for (var di = this._mapPosToDefIndex(res.length);; ++di) {\n        var def = this.def(di, res);\n        if (!def) break;\n\n        if (this._isHiddenHollow(di)) continue;\n        if (this._isInput(di)) break;\n        if (di >= res.length) res += def.char;\n      }\n      return res;\n    };\n\n    PatternMask.prototype._appendPlaceholderEnd = function _appendPlaceholderEnd(res, toPos) {\n      var toDefIndex = toPos && this._mapPosToDefIndex(toPos);\n      for (var di = this._mapPosToDefIndex(res.length); !toDefIndex || di < toDefIndex; ++di) {\n        var def = this.def(di, res);\n        if (!def) break;\n\n        if (this._isInput(di) && !this._isHollow(di)) {\n          this._hollows.push(di);\n        }\n        if (this._placeholder.show === 'always' || toPos) {\n          res += def.type === PatternMask.DEF_TYPES.FIXED ? def.char : !def.optional ? this._placeholder.char : '';\n        }\n      }\n      return res;\n    };\n\n    PatternMask.prototype._calcUnmasked = function _calcUnmasked(str) {\n      var unmasked = '';\n      for (var ci = 0, di = 0; ci < str.length; ++di) {\n        var ch = str[ci];\n        var def = this.def(di, str);\n\n        if (!def) break;\n        if (this._isHiddenHollow(di)) continue;\n\n        if (def.unmasking && !this._isHollow(di) && (this._isInput(di) && this._resolvers[def.char].resolve(ch, ci, str) || def.char === ch)) {\n          unmasked += ch;\n        }\n        ++ci;\n      }\n      return unmasked;\n    };\n\n    PatternMask.prototype.defs = function defs(str) {\n      var defs = [];\n      for (var i = 0;; ++i) {\n        var def = this.def(i, str);\n        if (!def) break;\n        defs.push(def);\n      }\n      return defs;\n    };\n\n    PatternMask.prototype.def = function def(index, str) {\n      return this._charDefs[index];\n    };\n\n    PatternMask.prototype._nearestInputPos = function _nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _utils.DIRECTION.LEFT;\n\n      if (!direction) return cursorPos;\n\n      var initialDefIndex = this._mapPosToDefIndex(cursorPos);\n      var di = initialDefIndex;\n\n      var firstInputIndex, firstFilledInputIndex, firstVisibleHollowIndex, nextdi;\n\n      // search forward\n      for (nextdi = (0, _utils.indexInDirection)(di, direction); this.def(nextdi); di += direction, nextdi += direction) {\n        if (firstInputIndex == null && this._isInput(nextdi)) firstInputIndex = di;\n        if (firstVisibleHollowIndex == null && this._isHollow(nextdi) && !this._isHiddenHollow(nextdi)) firstVisibleHollowIndex = di;\n        if (this._isInput(nextdi) && !this._isHollow(nextdi)) {\n          firstFilledInputIndex = di;\n          break;\n        }\n      }\n\n      if (direction === _utils.DIRECTION.LEFT || firstInputIndex == null) {\n        // search backwards\n        direction = -direction;\n        var overflow = false;\n\n        // find hollows only before initial pos\n        for (nextdi = (0, _utils.indexInDirection)(di, direction); this.def(nextdi); di += direction, nextdi += direction) {\n          if (this._isInput(nextdi)) {\n            firstInputIndex = di;\n            if (this._isHollow(nextdi) && !this._isHiddenHollow(nextdi)) break;\n          }\n\n          // if hollow not found before start position - set `overflow`\n          // and try to find just any input\n          if (di === initialDefIndex) overflow = true;\n\n          // first input found\n          if (overflow && firstInputIndex != null) break;\n        }\n\n        // process overflow\n        overflow = overflow || !this.def(nextdi);\n        if (overflow && firstInputIndex != null) di = firstInputIndex;\n      } else if (firstFilledInputIndex == null) {\n        // adjust index if delete at right and filled input not found at right\n        di = firstVisibleHollowIndex != null ? firstVisibleHollowIndex : firstInputIndex;\n      }\n\n      return this._mapDefIndexToPos(di);\n    };\n\n    PatternMask.prototype._alignCursor = function _alignCursor() {\n      this.cursorPos = this._nearestInputPos(this.cursorPos);\n    };\n\n    _createClass(PatternMask, [{\n      key: 'isComplete',\n      get: function get() {\n        for (var di = 0;; ++di) {\n          var def = this.def(di);\n          if (!def) break;\n          if (this._isInput(di) && !def.optional && this._isHollow(di)) return false;\n        }\n        return true;\n      }\n    }, {\n      key: 'unmaskedValue',\n      get: function get() {\n        return this._unmaskedValue;\n      },\n      set: function set(str) {\n        this._hollows.length = 0;\n        var res;\n\n        var _appendTail4 = this._appendTail('', str);\n\n        res = _appendTail4[0];\n        this._hollows = _appendTail4[1];\n\n        this.updateElement(this._appendPlaceholderEnd(res));\n\n        this._alignCursor();\n      }\n    }, {\n      key: 'placeholder',\n      get: function get() {\n        return this._placeholder;\n      },\n      set: function set(ph) {\n        this._placeholder = _extends({}, PatternMask.DEFAULT_PLACEHOLDER, ph);\n        if (this._initialized) this.unmaskedValue = this.unmaskedValue;\n      }\n    }, {\n      key: 'placeholderLabel',\n      get: function get() {\n        var _this4 = this;\n\n        return this.defs().map(function (def) {\n          return def.type === PatternMask.DEF_TYPES.FIXED ? def.char : !def.optional ? _this4._placeholder.char : '';\n        }).join('');\n      }\n    }, {\n      key: 'definitions',\n      get: function get() {\n        return this._definitions;\n      },\n      set: function set(defs) {\n        this._installDefinitions(defs);\n        if (this._initialized) this.unmaskedValue = this.unmaskedValue;\n      }\n    }, {\n      key: 'mask',\n      get: function get() {\n        return this._mask;\n      },\n      set: function set(mask) {\n        this._mask = mask;\n        if (this._initialized) this.definitions = this.definitions;\n      }\n    }]);\n\n    return PatternMask;\n  }(_base2.default);\n\n  exports.default = PatternMask;\n\n  PatternMask.DEFINITIONS = {\n    '0': /\\d/,\n    'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/, // http://stackoverflow.com/a/22075070\n    '*': /./\n  };\n  PatternMask.DEF_TYPES = {\n    INPUT: 'input',\n    FIXED: 'fixed'\n  };\n  PatternMask.DEFAULT_PLACEHOLDER = {\n    show: 'lazy',\n    char: '_'\n  };\n  PatternMask.STOP_CHAR = '\\'';\n  PatternMask.ESCAPE_CHAR = '\\\\';\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(0), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./base'), require('../utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.base, global.utils);\n    global.pipe = mod.exports;\n  }\n})(this, function (exports, _base, _utils) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _base2 = _interopRequireDefault(_base);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var PipeMask = function (_BaseMask) {\n    _inherits(PipeMask, _BaseMask);\n\n    function PipeMask(el, opts) {\n      _classCallCheck(this, PipeMask);\n\n      var _this = _possibleConstructorReturn(this, _BaseMask.call(this, el, opts));\n\n      _this.multipass = opts.multipass;\n\n      _this._compiledMasks = _this.mask.map(function (m) {\n        return IMask.MaskFactory(el, m);\n      });\n      return _this;\n    }\n\n    PipeMask.prototype.resolve = function resolve(str, details) {\n      var res = this._pipe(str, details);\n      if (!this.multipass) return res;\n\n      var cursorPos = details.cursorPos;\n\n      var stepRes;\n      var tempRes = res;\n\n      while (stepRes !== tempRes) {\n        stepRes = tempRes;\n        tempRes = this._pipe(stepRes, {\n          cursorPos: stepRes.length,\n          oldValue: stepRes,\n          oldSelection: {\n            start: 0,\n            end: stepRes.length\n          }\n        });\n      }\n\n      details.cursorPos = cursorPos - (res.length - stepRes.length);\n\n      return stepRes;\n    };\n\n    PipeMask.prototype._pipe = function _pipe(str, details) {\n      return this._compiledMasks.reduce(function (s, m) {\n        var d = (0, _utils.extendDetailsAdjustments)(s, details);\n        var res = m.resolve(s, d);\n        details.cursorPos = d.cursorPos;\n        return res;\n      }, str);\n    };\n\n    PipeMask.prototype.bindEvents = function bindEvents() {\n      _BaseMask.prototype.bindEvents.call(this);\n      this._compiledMasks.forEach(function (m) {\n        m.bindEvents();\n        // disable basemask events for child masks\n        _base2.default.prototype.unbindEvents.apply(m);\n      });\n    };\n\n    PipeMask.prototype.unbindEvents = function unbindEvents() {\n      _BaseMask.prototype.unbindEvents.call(this);\n      this._compiledMasks.forEach(function (m) {\n        return m.unbindEvents();\n      });\n    };\n\n    return PipeMask;\n  }(_base2.default);\n\n  exports.default = PipeMask;\n});\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// imask.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c9ab0c916abd7b3d939d","import {conform, extendDetailsAdjustments} from '../utils';\r\n\r\n\r\nexport default\r\nclass BaseMask {\r\n  constructor (el, opts) {\r\n    this.el = el;\r\n    this.mask = opts.mask;\r\n\r\n    this._listeners = {};\r\n    this._refreshingCount = 0;\r\n    this._rawValue = \"\";\r\n    this._unmaskedValue = \"\";\r\n\r\n    this.saveSelection = this.saveSelection.bind(this);\r\n    this._onInput = this._onInput.bind(this);\r\n    this._onDrop = this._onDrop.bind(this);\r\n  }\r\n\r\n  on (ev, handler) {\r\n    if (!this._listeners[ev]) this._listeners[ev] = [];\r\n    this._listeners[ev].push(handler);\r\n    return this;\r\n  }\r\n\r\n  off (ev, handler) {\r\n    if (!this._listeners[ev]) return;\r\n    if (!handler) {\r\n      delete this._listeners[ev];\r\n      return;\r\n    }\r\n    var hIndex = this._listeners[ev].indexOf(handler);\r\n    if (hIndex >= 0) this._listeners.splice(hIndex, 1);\r\n    return this;\r\n  }\r\n\r\n  get rawValue () {\r\n    return this._rawValue;\r\n  }\r\n\r\n  set rawValue (str) {\r\n    this.processInput(str, {\r\n      cursorPos: str.length,\r\n      oldValue: this.rawValue,\r\n      oldSelection: {\r\n        start: 0,\r\n        end: this.rawValue.length\r\n      }\r\n    });\r\n  }\r\n\r\n  get unmaskedValue () {\r\n    return this._unmaskedValue;\r\n  }\r\n\r\n  set unmaskedValue (value) {\r\n    this.rawValue = value;\r\n  }\r\n\r\n\r\n  bindEvents () {\r\n    this.el.addEventListener('keydown', this.saveSelection);\r\n    this.el.addEventListener('input', this._onInput);\r\n    this.el.addEventListener('drop', this._onDrop);\r\n  }\r\n\r\n  unbindEvents () {\r\n    this.el.removeEventListener('keydown', this.saveSelection);\r\n    this.el.removeEventListener('input', this._onInput);\r\n    this.el.removeEventListener('drop', this._onDrop);\r\n  }\r\n\r\n  fireEvent (ev) {\r\n    var listeners = this._listeners[ev] || [];\r\n    listeners.forEach(l => l());\r\n  }\r\n\r\n  processInput (inputValue, details) {\r\n    details = {\r\n      cursorPos: this.cursorPos,\r\n      oldSelection: this._selection,\r\n      oldValue: this.rawValue,\r\n      oldUnmaskedValue: this.unmaskedValue,\r\n      ...details\r\n    };\r\n\r\n    details = extendDetailsAdjustments(inputValue, details);\r\n\r\n    var res = conform(this.resolve(inputValue, details),\r\n      inputValue,\r\n      this.rawValue);\r\n\r\n    this.updateElement(res, details.cursorPos);\r\n    return res;\r\n  }\r\n\r\n\r\n  get selectionStart () {\r\n    return this._cursorChanging ?\r\n      this._changingCursorPos :\r\n\r\n      this.el.selectionStart;\r\n  }\r\n\r\n  get cursorPos () {\r\n    return this._cursorChanging ?\r\n      this._changingCursorPos :\r\n\r\n      this.el.selectionEnd;\r\n  }\r\n\r\n  set cursorPos (pos) {\r\n    if (this.el !== document.activeElement) return;\r\n\r\n    this.el.setSelectionRange(pos, pos);\r\n    this.saveSelection();\r\n  }\r\n\r\n  saveSelection (ev) {\r\n    if (this.rawValue !== this.el.value) {\r\n      console.warn(\"Uncontrolled input change, refresh mask manually!\");\r\n    }\r\n    this._selection = {\r\n      start: this.selectionStart,\r\n      end: this.cursorPos\r\n    };\r\n  }\r\n\r\n  destroy () {\r\n    this.unbindEvents();\r\n    this._listeners.length = 0;\r\n  }\r\n\r\n  updateElement (value, cursorPos) {\r\n    var unmaskedValue = this._calcUnmasked(value);\r\n    var isChanged = (this.unmaskedValue !== unmaskedValue ||\r\n      this.rawValue !== value);\r\n\r\n    this._unmaskedValue = unmaskedValue;\r\n    this._rawValue = value;\r\n\r\n    if (this.el.value !== value) this.el.value = value;\r\n    this.updateCursor(cursorPos);\r\n\r\n    if (isChanged) this._fireChangeEvents();\r\n  }\r\n\r\n  _fireChangeEvents () {\r\n    this.fireEvent(\"accept\");\r\n  }\r\n\r\n  updateCursor (cursorPos) {\r\n    if (cursorPos == null) return;\r\n    this.cursorPos = cursorPos;\r\n\r\n    // also queue change cursor for mobile browsers\r\n    this._delayUpdateCursor(cursorPos);\r\n  }\r\n\r\n  _delayUpdateCursor (cursorPos) {\r\n    this._abortUpdateCursor();\r\n    this._changingCursorPos = cursorPos;\r\n    this._cursorChanging = setTimeout(() => {\r\n      this._abortUpdateCursor();\r\n      this.cursorPos = this._changingCursorPos;\r\n    }, 10);\r\n  }\r\n\r\n  _abortUpdateCursor() {\r\n    if (this._cursorChanging) {\r\n      clearTimeout(this._cursorChanging);\r\n      delete this._cursorChanging;\r\n    }\r\n  }\r\n\r\n  _onInput (ev) {\r\n    this._abortUpdateCursor();\r\n    this.processInput(this.el.value);\r\n  }\r\n\r\n  _onDrop (ev) {\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n  }\r\n\r\n  // override\r\n  resolve (str, details) { return str; }\r\n\r\n  _calcUnmasked (value) { return value; }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/masks/base.js","export\r\nfunction isString (str) {\r\n  return typeof str === 'string' || str instanceof String;\r\n}\r\n\r\nexport\r\nfunction conform (res, str, fallback='') {\r\n  return isString(res) ?\r\n    res :\r\n    res ?\r\n      str :\r\n      fallback;\r\n}\r\n\r\nexport\r\nvar DIRECTION = {\r\n  NONE: 0,\r\n  LEFT: -1,\r\n  RIGHT: 1\r\n}\r\n\r\n\r\nexport\r\nfunction extendDetailsAdjustments(str, details) {\r\n  var cursorPos = details.cursorPos;\r\n  var oldSelection = details.oldSelection;\r\n  var oldValue = details.oldValue;\r\n\r\n  var startChangePos = Math.min(cursorPos, oldSelection.start);\r\n  var insertedCount = cursorPos - startChangePos;\r\n  // Math.max for opposite operation\r\n  var removedCount = Math.max((oldSelection.end - startChangePos) ||\r\n    // for Delete\r\n    oldValue.length - str.length, 0);\r\n\r\n  return {\r\n    ...details,\r\n    startChangePos,\r\n    head: str.substring(0, startChangePos),\r\n    tail: str.substring(startChangePos + insertedCount),\r\n    inserted: str.substr(startChangePos, insertedCount),\r\n    removed: oldValue.substr(startChangePos, removedCount),\r\n    removeDirection: removedCount &&\r\n      ((oldSelection.end === cursorPos || insertedCount) ?\r\n        DIRECTION.RIGHT :\r\n        DIRECTION.LEFT)\r\n  };\r\n}\r\n\r\n\r\nexport\r\nfunction indexInDirection (pos, direction) {\r\n  if (direction === DIRECTION.LEFT) --pos;\r\n  return pos;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import {isString} from './utils';\r\n\r\nimport BaseMask from './masks/base';\r\nimport RegExpMask from './masks/regexp';\r\nimport FuncMask from './masks/func';\r\nimport PatternMask from './masks/pattern';\r\nimport PipeMask from './masks/pipe';\r\n\r\n\r\nexport default\r\nfunction IMask (el, opts={}) {\r\n  var mask = IMask.MaskFactory(el, opts);\r\n  mask.bindEvents();\r\n  // refresh\r\n  mask.rawValue = el.value;\r\n  return mask;\r\n}\r\n\r\nIMask.MaskFactory = function (el, opts) {\r\n  var mask = opts.mask;\r\n  if (mask instanceof BaseMask) return mask;\r\n  if (mask instanceof RegExp) return new RegExpMask(el, opts);\r\n  if (mask instanceof Array) return new PipeMask(el, opts);\r\n  if (isString(mask)) return new PatternMask(el, opts);\r\n  if (mask.prototype instanceof BaseMask) return new mask(el, opts);\r\n  if (mask instanceof Function) return new FuncMask(el, opts);\r\n  return new BaseMask(el, opts);\r\n}\r\nIMask.BaseMask = BaseMask;\r\nIMask.FuncMask = FuncMask;\r\nIMask.RegExpMask = RegExpMask;\r\nIMask.PatternMask = PatternMask;\r\nwindow.IMask = IMask;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/imask.js","import BaseMask from './base';\r\n\r\n\r\nexport default\r\nclass RegExpMask extends BaseMask {\r\n  resolve (str) {\r\n    return this.mask.test(str);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/masks/regexp.js","import BaseMask from './base';\r\n\r\n\r\nexport default\r\nclass FuncMask extends BaseMask {\r\n  resolve (...args) {\r\n    return this.mask(...args);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/masks/func.js","import {conform, extendDetailsAdjustments, indexInDirection, DIRECTION} from '../utils';\r\nimport BaseMask from './base';\r\n\r\n\r\nexport default\r\nclass PatternMask extends BaseMask {\r\n  constructor (el, opts) {\r\n    super(el, opts);\r\n\r\n    this._hollows = [];\r\n    this.placeholder = opts.placeholder;\r\n    this.definitions = {\r\n      ...PatternMask.DEFINITIONS,\r\n      ...opts.definitions\r\n    };\r\n\r\n    this._alignCursor = this._alignCursor.bind(this);\r\n    this._alignCursorFriendly = this._alignCursorFriendly.bind(this);\r\n\r\n    this._initialized = true;\r\n  }\r\n\r\n  _alignCursorFriendly () {\r\n    if (this.selectionStart !== this.cursorPos) return;\r\n    this._alignCursor();\r\n  }\r\n\r\n  bindEvents () {\r\n    super.bindEvents();\r\n    this.el.addEventListener('click', this._alignCursorFriendly);\r\n  }\r\n\r\n  unbindEvents () {\r\n    super.unbindEvents();\r\n    this.el.removeEventListener('click', this._alignCursorFriendly);\r\n  }\r\n\r\n  _installDefinitions (definitions) {\r\n    this._definitions = definitions;\r\n    this._charDefs = [];\r\n    this._alignStops = [];\r\n\r\n    var pattern = this.mask;\r\n    if (!pattern || !definitions) return;\r\n\r\n    var unmaskingBlock = false;\r\n    var optionalBlock = false;\r\n    for (var i=0; i<pattern.length; ++i) {\r\n      var ch = pattern[i];\r\n      var type = !unmaskingBlock && ch in definitions ?\r\n        PatternMask.DEF_TYPES.INPUT :\r\n        PatternMask.DEF_TYPES.FIXED;\r\n      var unmasking = type === PatternMask.DEF_TYPES.INPUT || unmaskingBlock;\r\n      var optional = type === PatternMask.DEF_TYPES.INPUT && optionalBlock;\r\n\r\n      if (ch === PatternMask.STOP_CHAR) {\r\n        this._alignStops.push(this._charDefs.length);\r\n        continue;\r\n      }\r\n\r\n      if (ch === '{' || ch === '}') {\r\n        unmaskingBlock = !unmaskingBlock;\r\n        continue;\r\n      }\r\n\r\n      if (ch === '[' || ch === ']') {\r\n        optionalBlock = !optionalBlock;\r\n        continue;\r\n      }\r\n\r\n      if (ch === PatternMask.ESCAPE_CHAR) {\r\n        ++i;\r\n        ch = pattern[i];\r\n        // TODO validation\r\n        if (!ch) break;\r\n        type = PatternMask.DEF_TYPES.FIXED;\r\n      }\r\n\r\n      this._charDefs.push({\r\n        char: ch,\r\n        type: type,\r\n        optional: optional,\r\n        unmasking: unmasking\r\n      });\r\n    }\r\n\r\n    this._buildResolvers();\r\n  }\r\n\r\n  _buildResolvers () {\r\n    this._resolvers = {};\r\n    for (var defKey in this.definitions) {\r\n      this._resolvers[defKey] = IMask.MaskFactory(this.el, {\r\n        mask: this.definitions[defKey]\r\n      });\r\n    }\r\n  }\r\n\r\n  _appendTail (str, tail, skipUnresolvedInput=true) {\r\n    var placeholderBuffer = '';\r\n    var hollows = this._hollows.slice();\r\n    var overflow = false;\r\n\r\n    for (var ci=0, di=this._mapPosToDefIndex(str.length); ci < tail.length;) {\r\n      if (this._isHollow(di)) {\r\n        // TODO check other cases\r\n        ++di;\r\n        continue;\r\n      }\r\n\r\n      var ch = tail[ci];\r\n      var def = this.def(di, str + placeholderBuffer);\r\n\r\n      // failed\r\n      if (!def) {\r\n        overflow = true;\r\n        break;\r\n      }\r\n\r\n      if (def.type === PatternMask.DEF_TYPES.INPUT) {\r\n        var resolver = this._resolvers[def.char];\r\n        var chres = resolver.resolve(ch, di, str + placeholderBuffer) || '';\r\n        var isResolved = !!chres;\r\n\r\n        // if ok - next di\r\n        if (chres) {\r\n          chres = conform(chres, ch);\r\n        } else {\r\n          if (!def.optional && skipUnresolvedInput) chres = this._placeholder.char;\r\n          // TODO seems check is useless\r\n          if (hollows.indexOf(di) < 0) hollows.push(di);\r\n        }\r\n\r\n        if (chres) {\r\n          str += placeholderBuffer + conform(chres, ch);\r\n          placeholderBuffer = '';\r\n        }\r\n        if (chres || def.optional || !skipUnresolvedInput) ++di;\r\n        if (isResolved || !def.optional && !skipUnresolvedInput) ++ci;\r\n      } else {\r\n        placeholderBuffer += def.char;\r\n\r\n        if (ch === def.char && (def.unmasking || !skipUnresolvedInput)) ++ci;\r\n        ++di;\r\n      }\r\n    }\r\n\r\n    return [str, hollows, overflow];\r\n  }\r\n\r\n  _appendTailChunks (str, chunks, skipUnresolvedInput) {\r\n    var overflow = false;\r\n    for (var ci=0; ci < chunks.length; ++ci) {\r\n      var [, input] = chunks[ci];\r\n      [str, this._hollows, overflow] = this._appendTail(str, input, skipUnresolvedInput);\r\n      if (overflow) break;\r\n\r\n      // not last - append placeholder between stops\r\n      var chunk2 = chunks[ci+1]\r\n      var stop2 = chunk2 && chunk2[0];\r\n      if (stop2) str = this._appendPlaceholderEnd(str, stop2);\r\n    }\r\n    return [str, this._hollows, overflow];\r\n  }\r\n\r\n  _extractInput (str, fromPos=0, toPos) {\r\n    var input = '';\r\n\r\n    var toDefIndex = toPos && this._mapPosToDefIndex(toPos);\r\n    for (var ci=0, di=this._mapPosToDefIndex(fromPos); ci<str.length && (!toDefIndex || di < toDefIndex); ++di) {\r\n      var ch = str[ci];\r\n      var def = this.def(di, str);\r\n\r\n      if (!def) break;\r\n      if (this._isHiddenHollow(di)) continue;\r\n\r\n      if (this._isInput(di) && !this._isHollow(di)) input += ch;\r\n      ++ci;\r\n    }\r\n    return input;\r\n  }\r\n\r\n  _extractInputChunks (str, stops) {\r\n    var chunks = [];\r\n    for (var si=0; si<stops.length && str; ++si) {\r\n      var s = stops[si];\r\n      var s2 = stops[si+1];\r\n      chunks.push([s, this._extractInput(str, s, s2)]);\r\n      if (s2) str = str.slice(s2 - s);\r\n    }\r\n    return chunks;\r\n  }\r\n\r\n  _isHollow (defIndex) {\r\n    return this._hollows.indexOf(defIndex) >= 0;\r\n  }\r\n\r\n  _isHiddenHollow (defIndex) {\r\n    return this._isHollow(defIndex) && this.def(defIndex) && this.def(defIndex).optional;\r\n  }\r\n\r\n  _isInput (defIndex) {\r\n    return this.def(defIndex) && this.def(defIndex).type === PatternMask.DEF_TYPES.INPUT;\r\n  }\r\n\r\n  _hollowsBefore (defIndex) {\r\n    return this._hollows.filter(h => h < defIndex && this._isHiddenHollow(h));\r\n  }\r\n\r\n  _mapDefIndexToPos (defIndex) {\r\n    return defIndex - this._hollowsBefore(defIndex).length;\r\n  }\r\n\r\n  _mapPosToDefIndex (pos) {\r\n    var defIndex = pos;\r\n    for (var hi=0; hi<this._hollows.length; ++hi) {\r\n      var h = this._hollows[hi];\r\n      if (h >= defIndex) break;\r\n      if (this._isHiddenHollow(h)) ++defIndex;\r\n    }\r\n    return defIndex;\r\n  }\r\n\r\n  _generateInsertSteps (head, inserted) {\r\n    var overflow = false;\r\n\r\n    // save hollow during generation\r\n    var hollows = this._hollows;\r\n\r\n    var insertSteps = [[head, hollows.slice()]];\r\n\r\n    for (var ci=0; ci<inserted.length && !overflow; ++ci) {\r\n      var ch = inserted[ci];\r\n      var [res, hollows, overflow] = this._appendTail(head, ch, false);\r\n      this._hollows = hollows;\r\n      if (!overflow && res !== head) {\r\n        insertSteps.push([res, hollows]);\r\n        head = res;\r\n      }\r\n    }\r\n\r\n    // pop hollows back\r\n    this._hollows = hollows;\r\n\r\n    return insertSteps;\r\n  }\r\n\r\n  resolve (str, details) {\r\n    var cursorPos = details.cursorPos;\r\n    var startChangePos = details.startChangePos;\r\n    var inserted = details.inserted;\r\n    var removedCount = details.removed.length;\r\n    var tailPos = startChangePos + removedCount;\r\n    var tailDefIndex = this._mapPosToDefIndex(tailPos);\r\n    var tailAlignStopsPos = [\r\n      tailPos,\r\n      ...this._alignStops\r\n        .filter(s => s >= tailDefIndex)\r\n        .map(s => this._mapDefIndexToPos(s))\r\n    ];\r\n    var tailInputChunks = this._extractInputChunks(details.tail, tailAlignStopsPos);\r\n\r\n    // remove hollows after cursor\r\n    var lastHollowIndex = this._mapPosToDefIndex(startChangePos);\r\n    this._hollows = this._hollows.filter(h => h < lastHollowIndex);\r\n\r\n    var res = details.head;\r\n    // if remove at left - adjust start change pos\r\n    if (details.removeDirection === DIRECTION.LEFT) res = res.slice(0, this._nearestInputPos(startChangePos));\r\n\r\n    // insert available\r\n    var insertSteps = this._generateInsertSteps(res, inserted);\r\n    for (var istep=insertSteps.length-1; istep >= 0; --istep) {\r\n      var step, tres, overflow;\r\n      [step, this._hollows] = insertSteps[istep];\r\n      [tres, this._hollows, overflow] = this._appendTailChunks(step, tailInputChunks);\r\n      if (!overflow) {\r\n        res = tres;\r\n        cursorPos = step.length;\r\n        break;\r\n      }\r\n    }\r\n\r\n    res = this._appendPlaceholderEnd(res);\r\n    details.cursorPos = this._nearestInputPos(cursorPos, details.removeDirection);\r\n\r\n    return res;\r\n  }\r\n\r\n  _fireChangeEvents () {\r\n    // fire 'complete' after 'accept' event\r\n    super._fireChangeEvents();\r\n    if (this.isComplete) this.fireEvent(\"complete\");\r\n  }\r\n\r\n  get isComplete () {\r\n    for (var di=0; ;++di) {\r\n      var def = this.def(di);\r\n      if (!def) break;\r\n      if (this._isInput(di) && !def.optional && this._isHollow(di)) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _appendFixedEnd (res) {\r\n    for (var di=this._mapPosToDefIndex(res.length); ; ++di) {\r\n      var def = this.def(di, res);\r\n      if (!def) break;\r\n\r\n      if (this._isHiddenHollow(di)) continue;\r\n      if (this._isInput(di)) break;\r\n      if (di >= res.length) res += def.char;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  _appendPlaceholderEnd (res, toPos) {\r\n    var toDefIndex = toPos && this._mapPosToDefIndex(toPos);\r\n    for (var di=this._mapPosToDefIndex(res.length); !toDefIndex || di < toDefIndex; ++di) {\r\n      var def = this.def(di, res);\r\n      if (!def) break;\r\n\r\n      if (this._isInput(di) && !this._isHollow(di)) {\r\n        this._hollows.push(di);\r\n      }\r\n      if (this._placeholder.show === 'always' || toPos) {\r\n        res += def.type === PatternMask.DEF_TYPES.FIXED ?\r\n          def.char :\r\n          !def.optional ?\r\n            this._placeholder.char :\r\n            '';\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n\r\n  _calcUnmasked (str) {\r\n    var unmasked = '';\r\n    for (var ci=0, di=0; ci<str.length; ++di) {\r\n      var ch = str[ci];\r\n      var def = this.def(di, str);\r\n\r\n      if (!def) break;\r\n      if (this._isHiddenHollow(di)) continue;\r\n\r\n      if (def.unmasking && !this._isHollow(di) &&\r\n        (this._isInput(di) && this._resolvers[def.char].resolve(ch, ci, str) ||\r\n          def.char === ch)) {\r\n        unmasked += ch;\r\n      }\r\n      ++ci;\r\n    }\r\n    return unmasked;\r\n  }\r\n\r\n  get unmaskedValue () {\r\n    return this._unmaskedValue;\r\n  }\r\n\r\n  set unmaskedValue (str) {\r\n    this._hollows.length = 0;\r\n    var res;\r\n    [res, this._hollows] = this._appendTail('', str);\r\n    this.updateElement(this._appendPlaceholderEnd(res));\r\n\r\n    this._alignCursor();\r\n  }\r\n\r\n  get placeholder () { return this._placeholder; }\r\n\r\n  set placeholder (ph) {\r\n    this._placeholder = {\r\n      ...PatternMask.DEFAULT_PLACEHOLDER,\r\n      ...ph\r\n    };\r\n    if (this._initialized) this.unmaskedValue = this.unmaskedValue;\r\n  }\r\n\r\n  get placeholderLabel () {\r\n    return this.defs().map(def =>\r\n      def.type === PatternMask.DEF_TYPES.FIXED ?\r\n        def.char :\r\n        !def.optional ?\r\n          this._placeholder.char :\r\n          '').join('');\r\n  }\r\n\r\n  get definitions () { return this._definitions; }\r\n\r\n  set definitions (defs) {\r\n    this._installDefinitions(defs);\r\n    if (this._initialized) this.unmaskedValue = this.unmaskedValue;\r\n  }\r\n\r\n  get mask () { return this._mask; }\r\n\r\n  set mask (mask) {\r\n    this._mask = mask;\r\n    if (this._initialized) this.definitions = this.definitions;\r\n  }\r\n\r\n  defs (str) {\r\n    var defs = [];\r\n    for (var i=0; ;++i) {\r\n      var def = this.def(i, str);\r\n      if (!def) break;\r\n      defs.push(def);\r\n    }\r\n    return defs;\r\n  }\r\n\r\n  def (index, str) {\r\n    return this._charDefs[index];\r\n  }\r\n\r\n  _nearestInputPos (cursorPos, direction=DIRECTION.LEFT) {\r\n    if (!direction) return cursorPos;\r\n\r\n    var initialDefIndex = this._mapPosToDefIndex(cursorPos);\r\n    var di = initialDefIndex;\r\n\r\n    var firstInputIndex,\r\n        firstFilledInputIndex,\r\n        firstVisibleHollowIndex,\r\n        nextdi;\r\n\r\n    // search forward\r\n    for (nextdi = indexInDirection(di, direction); this.def(nextdi); di += direction, nextdi += direction) {\r\n      if (firstInputIndex == null && this._isInput(nextdi)) firstInputIndex = di;\r\n      if (firstVisibleHollowIndex == null && this._isHollow(nextdi) && !this._isHiddenHollow(nextdi)) firstVisibleHollowIndex = di;\r\n      if (this._isInput(nextdi) && !this._isHollow(nextdi)) {\r\n        firstFilledInputIndex = di;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (direction === DIRECTION.LEFT || firstInputIndex == null) {\r\n      // search backwards\r\n      direction = -direction;\r\n      var overflow = false;\r\n\r\n      // find hollows only before initial pos\r\n      for (nextdi = indexInDirection(di, direction); this.def(nextdi); di += direction, nextdi += direction) {\r\n        if (this._isInput(nextdi)) {\r\n          firstInputIndex = di;\r\n          if (this._isHollow(nextdi) && !this._isHiddenHollow(nextdi)) break;\r\n        }\r\n\r\n        // if hollow not found before start position - set `overflow`\r\n        // and try to find just any input\r\n        if (di === initialDefIndex) overflow = true;\r\n\r\n        // first input found\r\n        if (overflow && firstInputIndex != null) break;\r\n      }\r\n\r\n      // process overflow\r\n      overflow = overflow || !this.def(nextdi);\r\n      if (overflow && firstInputIndex != null) di = firstInputIndex;\r\n    } else if (firstFilledInputIndex == null) {\r\n      // adjust index if delete at right and filled input not found at right\r\n      di = firstVisibleHollowIndex != null ?\r\n        firstVisibleHollowIndex :\r\n        firstInputIndex;\r\n    }\r\n\r\n    return this._mapDefIndexToPos(di);\r\n  }\r\n\r\n  _alignCursor () {\r\n    this.cursorPos = this._nearestInputPos(this.cursorPos);\r\n  }\r\n}\r\nPatternMask.DEFINITIONS = {\r\n  '0': /\\d/,\r\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,  // http://stackoverflow.com/a/22075070\r\n  '*': /./\r\n};\r\nPatternMask.DEF_TYPES = {\r\n  INPUT: 'input',\r\n  FIXED: 'fixed'\r\n}\r\nPatternMask.DEFAULT_PLACEHOLDER = {\r\n  show: 'lazy',\r\n  char: '_'\r\n};\r\nPatternMask.STOP_CHAR = '\\'';\r\nPatternMask.ESCAPE_CHAR = '\\\\';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/masks/pattern.js","import BaseMask from './base';\r\nimport {extendDetailsAdjustments} from '../utils';\r\n\r\n\r\nexport default\r\nclass PipeMask extends BaseMask {\r\n  constructor (el, opts) {\r\n    super(el, opts);\r\n\r\n    this.multipass = opts.multipass;\r\n\r\n    this._compiledMasks = this.mask.map(m => IMask.MaskFactory(el, m));\r\n  }\r\n\r\n  resolve (str, details) {\r\n    var res = this._pipe(str, details);\r\n    if (!this.multipass) return res;\r\n\r\n    var cursorPos = details.cursorPos;\r\n\r\n    var stepRes;\r\n    var tempRes = res;\r\n\r\n    while (stepRes !== tempRes) {\r\n      stepRes = tempRes;\r\n      tempRes = this._pipe(stepRes, {\r\n        cursorPos: stepRes.length,\r\n        oldValue: stepRes,\r\n        oldSelection: {\r\n          start: 0,\r\n          end: stepRes.length\r\n        }\r\n      });\r\n    }\r\n\r\n    details.cursorPos = cursorPos - (res.length - stepRes.length);\r\n\r\n    return stepRes;\r\n  }\r\n\r\n  _pipe (str, details) {\r\n    return this._compiledMasks.reduce((s, m) => {\r\n      var d = extendDetailsAdjustments(s, details);\r\n      var res = m.resolve(s, d);\r\n      details.cursorPos = d.cursorPos;\r\n      return res;\r\n    }, str);\r\n  }\r\n\r\n  bindEvents () {\r\n    super.bindEvents();\r\n    this._compiledMasks.forEach(m => {\r\n      m.bindEvents();\r\n      // disable basemask events for child masks\r\n      BaseMask.prototype.unbindEvents.apply(m);\r\n    });\r\n  }\r\n\r\n  unbindEvents () {\r\n    super.unbindEvents();\r\n    this._compiledMasks.forEach(m => m.unbindEvents());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/masks/pipe.js"],"sourceRoot":""}